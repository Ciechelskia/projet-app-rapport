// Traductions pour les pages légales VOCALIA
// Langues supportées : Français, English, 中文, 日本語

const legalTranslations = {
    fr: {
        // Navigation
        nav: {
            features: "Fonctionnalités",
            demo: "Démo",
            pricing: "Tarifs",
            faq: "FAQ",
            login: "Connexion",
            start: "Commencer"
        },

        // Footer
        footer: {
            product: "Produit",
            features: "Fonctionnalités",
            pricing: "Tarifs",
            application: "Application",
            support: "Support",
            contact: "Contact",
            documentation: "Documentation",
            faq: "FAQ",
            legal: "Légal",
            privacy: "Confidentialité",
            terms: "CGU",
            legal_notices: "Mentions légales",
            made_with: "Fait avec",
            in_france: "en France",
            rights: "Tous droits réservés"
        },

        // Pages légales communes
        legal: {
            last_update: "Dernière mise à jour",
            table_of_contents: "Table des matières",
            back_to_top: "Retour en haut"
        },

        // Page Privacy
        privacy: {
            title: "Politique de Confidentialité",
            subtitle: "Comment nous protégeons vos données",
            intro: "Chez VOCALIA, nous prenons la protection de vos données personnelles très au sérieux."
        },

        // Page Terms
        terms: {
            title: "Conditions Générales d'Utilisation",
            subtitle: "Les règles d'utilisation de VOCALIA",
            intro: "En utilisant VOCALIA, vous acceptez les présentes conditions."
        },

        // Page Legal Notices
        legal_notices: {
            title: "Mentions Légales",
            subtitle: "Informations légales sur VOCALIA",
            editor: "Éditeur du site",
            hosting: "Hébergement",
            contact: "Contact"
        },

        // Page FAQ
        faq: {
            title: "Questions Fréquentes",
            subtitle: "Trouvez rapidement des réponses à vos questions",
            search_placeholder: "Rechercher une question...",
            all: "Toutes",
            questions: "questions",
            no_results: "Aucun résultat",
            no_results_desc: "Essayez avec d'autres mots-clés",
            categories: {
                subscription: "Abonnement",
                usage: "Utilisation",
                multilingual: "Multilingue",
                security: "Sécurité",
                technical: "Technique"
            }
        }
    },

    en: {
        // Navigation
        nav: {
            features: "Features",
            demo: "Demo",
            pricing: "Pricing",
            faq: "FAQ",
            login: "Login",
            start: "Get Started"
        },

        // Footer
        footer: {
            product: "Product",
            features: "Features",
            pricing: "Pricing",
            application: "Application",
            support: "Support",
            contact: "Contact",
            documentation: "Documentation",
            faq: "FAQ",
            legal: "Legal",
            privacy: "Privacy",
            terms: "Terms",
            legal_notices: "Legal Notices",
            made_with: "Made with",
            in_france: "in France",
            rights: "All rights reserved"
        },

        // Legal pages common
        legal: {
            last_update: "Last updated",
            table_of_contents: "Table of Contents",
            back_to_top: "Back to top"
        },

        // Privacy page
        privacy: {
            title: "Privacy Policy",
            subtitle: "How we protect your data",
            intro: "At VOCALIA, we take the protection of your personal data very seriously."
        },

        // Terms page
        terms: {
            title: "Terms of Service",
            subtitle: "The rules for using VOCALIA",
            intro: "By using VOCALIA, you agree to these terms."
        },

        // Legal Notices page
        legal_notices: {
            title: "Legal Notices",
            subtitle: "Legal information about VOCALIA",
            editor: "Website Editor",
            hosting: "Hosting",
            contact: "Contact"
        },

        // FAQ page
        faq: {
            title: "Frequently Asked Questions",
            subtitle: "Find answers to your questions quickly",
            search_placeholder: "Search a question...",
            all: "All",
            questions: "questions",
            no_results: "No results",
            no_results_desc: "Try with different keywords",
            categories: {
                subscription: "Subscription",
                usage: "Usage",
                multilingual: "Multilingual",
                security: "Security",
                technical: "Technical"
            }
        }
    },

    zh: {
        // Navigation
        nav: {
            features: "功能",
            demo: "演示",
            pricing: "价格",
            faq: "常见问题",
            login: "登录",
            start: "开始使用"
        },

        // Footer
        footer: {
            product: "产品",
            features: "功能",
            pricing: "价格",
            application: "应用",
            support: "支持",
            contact: "联系",
            documentation: "文档",
            faq: "常见问题",
            legal: "法律",
            privacy: "隐私",
            terms: "条款",
            legal_notices: "法律声明",
            made_with: "用❤️制作",
            in_france: "于法国",
            rights: "版权所有"
        },

        // Legal pages common
        legal: {
            last_update: "最后更新",
            table_of_contents: "目录",
            back_to_top: "返回顶部"
        },

        // Privacy page
        privacy: {
            title: "隐私政策",
            subtitle: "我们如何保护您的数据",
            intro: "在VOCALIA，我们非常重视保护您的个人数据。"
        },

        // Terms page
        terms: {
            title: "使用条款",
            subtitle: "VOCALIA使用规则",
            intro: "使用VOCALIA即表示您同意这些条款。"
        },

        // Legal Notices page
        legal_notices: {
            title: "法律声明",
            subtitle: "关于VOCALIA的法律信息",
            editor: "网站编辑",
            hosting: "托管",
            contact: "联系方式"
        },

        // FAQ page
        faq: {
            title: "常见问题",
            subtitle: "快速找到问题答案",
            search_placeholder: "搜索问题...",
            all: "全部",
            questions: "问题",
            no_results: "无结果",
            no_results_desc: "请尝试其他关键词",
            categories: {
                subscription: "订阅",
                usage: "使用",
                multilingual: "多语言",
                security: "安全",
                technical: "技术"
            }
        }
    },

    ja: {
        // Navigation
        nav: {
            features: "機能",
            demo: "デモ",
            pricing: "料金",
            faq: "よくある質問",
            login: "ログイン",
            start: "始める"
        },

        // Footer
        footer: {
            product: "製品",
            features: "機能",
            pricing: "料金",
            application: "アプリケーション",
            support: "サポート",
            contact: "お問い合わせ",
            documentation: "ドキュメント",
            faq: "よくある質問",
            legal: "法的情報",
            privacy: "プライバシー",
            terms: "利用規約",
            legal_notices: "法的通知",
            made_with: "❤️で作成",
            in_france: "フランスにて",
            rights: "全著作権所有"
        },

        // Legal pages common
        legal: {
            last_update: "最終更新",
            table_of_contents: "目次",
            back_to_top: "トップに戻る"
        },

        // Privacy page
        privacy: {
            title: "プライバシーポリシー",
            subtitle: "データ保護の方法",
            intro: "VOCALIAでは、お客様の個人データの保護を非常に重要視しています。"
        },

        // Terms page
        terms: {
            title: "利用規約",
            subtitle: "VOCALIAの使用ルール",
            intro: "VOCALIAを使用することで、本規約に同意したものとみなされます。"
        },

        // Legal Notices page
        legal_notices: {
            title: "法的通知",
            subtitle: "VOCALIAに関する法的情報",
            editor: "サイト編集者",
            hosting: "ホスティング",
            contact: "お問い合わせ"
        },

        // FAQ page
        faq: {
            title: "よくある質問",
            subtitle: "質問の答えをすばやく見つける",
            search_placeholder: "質問を検索...",
            all: "すべて",
            questions: "質問",
            no_results: "結果がありません",
            no_results_desc: "他のキーワードで試してください",
            categories: {
                subscription: "サブスクリプション",
                usage: "使用方法",
                multilingual: "多言語",
                security: "セキュリティ",
                technical: "技術"
            }
        }
    }
};

// Fonction pour obtenir la traduction
function getLegalTranslation(key, lang = 'fr') {
    const keys = key.split('.');
    let value = legalTranslations[lang];
    
    for (const k of keys) {
        if (value && value[k]) {
            value = value[k];
        } else {
            return key; // Retourne la clé si traduction non trouvée
        }
    }
    
    return value;
}

// Fonction pour changer la langue
function changeLegalLanguage(lang) {
    // Sauvegarder la langue choisie
    localStorage.setItem('legal-language', lang);
    
    // Mettre à jour tous les éléments avec data-i18n
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        const translation = getLegalTranslation(key, lang);
        
        if (element.tagName === 'INPUT' && element.type === 'text') {
            element.placeholder = translation;
        } else {
            element.textContent = translation;
        }
    });
    
    // Mettre à jour le bouton de langue
    updateLanguageButton(lang);
}

// Fonction pour mettre à jour le bouton de langue
function updateLanguageButton(lang) {
    const flags = {
        'fr': '🇫🇷 Français',
        'en': '🇬🇧 English',
        'zh': '🇨🇳 中文',
        'ja': '🇯🇵 日本語'
    };
    
    const btn = document.querySelector('.language-btn');
    if (btn) {
        btn.innerHTML = `${flags[lang]} <span class="dropdown-arrow">▼</span>`;
    }
    
    // Mettre à jour les options actives
    document.querySelectorAll('.language-option').forEach(option => {
        option.classList.remove('active');
        if (option.getAttribute('data-lang') === lang) {
            option.classList.add('active');
        }
    });
}

// Initialisation au chargement de la page
document.addEventListener('DOMContentLoaded', () => {
    // Récupérer la langue sauvegardée ou utiliser français par défaut
    const savedLang = localStorage.getItem('legal-language') || 'fr';
    changeLegalLanguage(savedLang);
    
    // Ajouter les écouteurs d'événements pour les options de langue
    document.querySelectorAll('.language-option').forEach(option => {
        option.addEventListener('click', (e) => {
            e.preventDefault();
            const lang = option.getAttribute('data-lang');
            changeLegalLanguage(lang);
            
            // Fermer le dropdown
            document.querySelector('.language-dropdown').classList.remove('active');
        });
    });
    
    // Toggle du dropdown de langue
    const languageBtn = document.querySelector('.language-btn');
    const languageDropdown = document.querySelector('.language-dropdown');
    
    if (languageBtn && languageDropdown) {
        languageBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            languageDropdown.classList.toggle('active');
        });
        
        // Fermer le dropdown en cliquant ailleurs
        document.addEventListener('click', () => {
            languageDropdown.classList.remove('active');
        });
    }
});