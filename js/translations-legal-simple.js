// Traductions pour les pages lÃ©gales VOCALIA
// Langues supportÃ©es : FranÃ§ais, English, ä¸­æ–‡, æ—¥æœ¬èªž

const legalTranslations = {
    fr: {
        // Navigation
        nav: {
            features: "FonctionnalitÃ©s",
            demo: "DÃ©mo",
            pricing: "Tarifs",
            faq: "FAQ",
            login: "Connexion",
            start: "Commencer"
        },

        // Footer
        footer: {
            product: "Produit",
            features: "FonctionnalitÃ©s",
            pricing: "Tarifs",
            application: "Application",
            support: "Support",
            contact: "Contact",
            documentation: "Documentation",
            faq: "FAQ",
            legal: "LÃ©gal",
            privacy: "ConfidentialitÃ©",
            terms: "CGU",
            legal_notices: "Mentions lÃ©gales",
            made_with: "Fait avec",
            in_france: "en France",
            rights: "Tous droits rÃ©servÃ©s"
        },

        // Pages lÃ©gales communes
        legal: {
            last_update: "DerniÃ¨re mise Ã  jour",
            table_of_contents: "Table des matiÃ¨res",
            back_to_top: "Retour en haut"
        },

        // Page Privacy
        privacy: {
            title: "Politique de ConfidentialitÃ©",
            subtitle: "Comment nous protÃ©geons vos donnÃ©es",
            intro: "Chez VOCALIA, nous prenons la protection de vos donnÃ©es personnelles trÃ¨s au sÃ©rieux."
        },

        // Page Terms
        terms: {
            title: "Conditions GÃ©nÃ©rales d'Utilisation",
            subtitle: "Les rÃ¨gles d'utilisation de VOCALIA",
            intro: "En utilisant VOCALIA, vous acceptez les prÃ©sentes conditions."
        },

        // Page Legal Notices
        legal_notices: {
            title: "Mentions LÃ©gales",
            subtitle: "Informations lÃ©gales sur VOCALIA",
            editor: "Ã‰diteur du site",
            hosting: "HÃ©bergement",
            contact: "Contact"
        },

        // Page FAQ
        faq: {
            title: "Questions FrÃ©quentes",
            subtitle: "Trouvez rapidement des rÃ©ponses Ã  vos questions",
            search_placeholder: "Rechercher une question...",
            all: "Toutes",
            questions: "questions",
            no_results: "Aucun rÃ©sultat",
            no_results_desc: "Essayez avec d'autres mots-clÃ©s",
            categories: {
                subscription: "Abonnement",
                usage: "Utilisation",
                multilingual: "Multilingue",
                security: "SÃ©curitÃ©",
                technical: "Technique"
            }
        }
    },

    en: {
        // Navigation
        nav: {
            features: "Features",
            demo: "Demo",
            pricing: "Pricing",
            faq: "FAQ",
            login: "Login",
            start: "Get Started"
        },

        // Footer
        footer: {
            product: "Product",
            features: "Features",
            pricing: "Pricing",
            application: "Application",
            support: "Support",
            contact: "Contact",
            documentation: "Documentation",
            faq: "FAQ",
            legal: "Legal",
            privacy: "Privacy",
            terms: "Terms",
            legal_notices: "Legal Notices",
            made_with: "Made with",
            in_france: "in France",
            rights: "All rights reserved"
        },

        // Legal pages common
        legal: {
            last_update: "Last updated",
            table_of_contents: "Table of Contents",
            back_to_top: "Back to top"
        },

        // Privacy page
        privacy: {
            title: "Privacy Policy",
            subtitle: "How we protect your data",
            intro: "At VOCALIA, we take the protection of your personal data very seriously."
        },

        // Terms page
        terms: {
            title: "Terms of Service",
            subtitle: "The rules for using VOCALIA",
            intro: "By using VOCALIA, you agree to these terms."
        },

        // Legal Notices page
        legal_notices: {
            title: "Legal Notices",
            subtitle: "Legal information about VOCALIA",
            editor: "Website Editor",
            hosting: "Hosting",
            contact: "Contact"
        },

        // FAQ page
        faq: {
            title: "Frequently Asked Questions",
            subtitle: "Find answers to your questions quickly",
            search_placeholder: "Search a question...",
            all: "All",
            questions: "questions",
            no_results: "No results",
            no_results_desc: "Try with different keywords",
            categories: {
                subscription: "Subscription",
                usage: "Usage",
                multilingual: "Multilingual",
                security: "Security",
                technical: "Technical"
            }
        }
    },

    zh: {
        // Navigation
        nav: {
            features: "åŠŸèƒ½",
            demo: "æ¼”ç¤º",
            pricing: "ä»·æ ¼",
            faq: "å¸¸è§é—®é¢˜",
            login: "ç™»å½•",
            start: "å¼€å§‹ä½¿ç”¨"
        },

        // Footer
        footer: {
            product: "äº§å“",
            features: "åŠŸèƒ½",
            pricing: "ä»·æ ¼",
            application: "åº”ç”¨",
            support: "æ”¯æŒ",
            contact: "è”ç³»",
            documentation: "æ–‡æ¡£",
            faq: "å¸¸è§é—®é¢˜",
            legal: "æ³•å¾‹",
            privacy: "éšç§",
            terms: "æ¡æ¬¾",
            legal_notices: "æ³•å¾‹å£°æ˜Ž",
            made_with: "ç”¨â¤ï¸åˆ¶ä½œ",
            in_france: "äºŽæ³•å›½",
            rights: "ç‰ˆæƒæ‰€æœ‰"
        },

        // Legal pages common
        legal: {
            last_update: "æœ€åŽæ›´æ–°",
            table_of_contents: "ç›®å½•",
            back_to_top: "è¿”å›žé¡¶éƒ¨"
        },

        // Privacy page
        privacy: {
            title: "éšç§æ”¿ç­–",
            subtitle: "æˆ‘ä»¬å¦‚ä½•ä¿æŠ¤æ‚¨çš„æ•°æ®",
            intro: "åœ¨VOCALIAï¼Œæˆ‘ä»¬éžå¸¸é‡è§†ä¿æŠ¤æ‚¨çš„ä¸ªäººæ•°æ®ã€‚"
        },

        // Terms page
        terms: {
            title: "ä½¿ç”¨æ¡æ¬¾",
            subtitle: "VOCALIAä½¿ç”¨è§„åˆ™",
            intro: "ä½¿ç”¨VOCALIAå³è¡¨ç¤ºæ‚¨åŒæ„è¿™äº›æ¡æ¬¾ã€‚"
        },

        // Legal Notices page
        legal_notices: {
            title: "æ³•å¾‹å£°æ˜Ž",
            subtitle: "å…³äºŽVOCALIAçš„æ³•å¾‹ä¿¡æ¯",
            editor: "ç½‘ç«™ç¼–è¾‘",
            hosting: "æ‰˜ç®¡",
            contact: "è”ç³»æ–¹å¼"
        },

        // FAQ page
        faq: {
            title: "å¸¸è§é—®é¢˜",
            subtitle: "å¿«é€Ÿæ‰¾åˆ°é—®é¢˜ç­”æ¡ˆ",
            search_placeholder: "æœç´¢é—®é¢˜...",
            all: "å…¨éƒ¨",
            questions: "é—®é¢˜",
            no_results: "æ— ç»“æžœ",
            no_results_desc: "è¯·å°è¯•å…¶ä»–å…³é”®è¯",
            categories: {
                subscription: "è®¢é˜…",
                usage: "ä½¿ç”¨",
                multilingual: "å¤šè¯­è¨€",
                security: "å®‰å…¨",
                technical: "æŠ€æœ¯"
            }
        }
    },

    ja: {
        // Navigation
        nav: {
            features: "æ©Ÿèƒ½",
            demo: "ãƒ‡ãƒ¢",
            pricing: "æ–™é‡‘",
            faq: "ã‚ˆãã‚ã‚‹è³ªå•",
            login: "ãƒ­ã‚°ã‚¤ãƒ³",
            start: "å§‹ã‚ã‚‹"
        },

        // Footer
        footer: {
            product: "è£½å“",
            features: "æ©Ÿèƒ½",
            pricing: "æ–™é‡‘",
            application: "ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³",
            support: "ã‚µãƒãƒ¼ãƒˆ",
            contact: "ãŠå•ã„åˆã‚ã›",
            documentation: "ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ",
            faq: "ã‚ˆãã‚ã‚‹è³ªå•",
            legal: "æ³•çš„æƒ…å ±",
            privacy: "ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼",
            terms: "åˆ©ç”¨è¦ç´„",
            legal_notices: "æ³•çš„é€šçŸ¥",
            made_with: "â¤ï¸ã§ä½œæˆ",
            in_france: "ãƒ•ãƒ©ãƒ³ã‚¹ã«ã¦",
            rights: "å…¨è‘—ä½œæ¨©æ‰€æœ‰"
        },

        // Legal pages common
        legal: {
            last_update: "æœ€çµ‚æ›´æ–°",
            table_of_contents: "ç›®æ¬¡",
            back_to_top: "ãƒˆãƒƒãƒ—ã«æˆ»ã‚‹"
        },

        // Privacy page
        privacy: {
            title: "ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ãƒãƒªã‚·ãƒ¼",
            subtitle: "ãƒ‡ãƒ¼ã‚¿ä¿è­·ã®æ–¹æ³•",
            intro: "VOCALIAã§ã¯ã€ãŠå®¢æ§˜ã®å€‹äººãƒ‡ãƒ¼ã‚¿ã®ä¿è­·ã‚’éžå¸¸ã«é‡è¦è¦–ã—ã¦ã„ã¾ã™ã€‚"
        },

        // Terms page
        terms: {
            title: "åˆ©ç”¨è¦ç´„",
            subtitle: "VOCALIAã®ä½¿ç”¨ãƒ«ãƒ¼ãƒ«",
            intro: "VOCALIAã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€æœ¬è¦ç´„ã«åŒæ„ã—ãŸã‚‚ã®ã¨ã¿ãªã•ã‚Œã¾ã™ã€‚"
        },

        // Legal Notices page
        legal_notices: {
            title: "æ³•çš„é€šçŸ¥",
            subtitle: "VOCALIAã«é–¢ã™ã‚‹æ³•çš„æƒ…å ±",
            editor: "ã‚µã‚¤ãƒˆç·¨é›†è€…",
            hosting: "ãƒ›ã‚¹ãƒ†ã‚£ãƒ³ã‚°",
            contact: "ãŠå•ã„åˆã‚ã›"
        },

        // FAQ page
        faq: {
            title: "ã‚ˆãã‚ã‚‹è³ªå•",
            subtitle: "è³ªå•ã®ç­”ãˆã‚’ã™ã°ã‚„ãè¦‹ã¤ã‘ã‚‹",
            search_placeholder: "è³ªå•ã‚’æ¤œç´¢...",
            all: "ã™ã¹ã¦",
            questions: "è³ªå•",
            no_results: "çµæžœãŒã‚ã‚Šã¾ã›ã‚“",
            no_results_desc: "ä»–ã®ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã§è©¦ã—ã¦ãã ã•ã„",
            categories: {
                subscription: "ã‚µãƒ–ã‚¹ã‚¯ãƒªãƒ—ã‚·ãƒ§ãƒ³",
                usage: "ä½¿ç”¨æ–¹æ³•",
                multilingual: "å¤šè¨€èªž",
                security: "ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£",
                technical: "æŠ€è¡“"
            }
        }
    }
};

// Fonction pour obtenir la traduction
function getLegalTranslation(key, lang = 'fr') {
    const keys = key.split('.');
    let value = legalTranslations[lang];
    
    for (const k of keys) {
        if (value && value[k]) {
            value = value[k];
        } else {
            return key; // Retourne la clÃ© si traduction non trouvÃ©e
        }
    }
    
    return value;
}

// Fonction pour changer la langue
function changeLegalLanguage(lang) {
    // Sauvegarder la langue choisie
    localStorage.setItem('legal-language', lang);
    
    // Mettre Ã  jour tous les Ã©lÃ©ments avec data-i18n
    document.querySelectorAll('[data-i18n]').forEach(element => {
        const key = element.getAttribute('data-i18n');
        const translation = getLegalTranslation(key, lang);
        
        if (element.tagName === 'INPUT' && element.type === 'text') {
            element.placeholder = translation;
        } else {
            element.textContent = translation;
        }
    });
    
    // Mettre Ã  jour le bouton de langue
    updateLanguageButton(lang);
}

// Fonction pour mettre Ã  jour le bouton de langue
function updateLanguageButton(lang) {
    const flags = {
        'fr': 'ðŸ‡«ðŸ‡· FranÃ§ais',
        'en': 'ðŸ‡¬ðŸ‡§ English',
        'zh': 'ðŸ‡¨ðŸ‡³ ä¸­æ–‡',
        'ja': 'ðŸ‡¯ðŸ‡µ æ—¥æœ¬èªž'
    };
    
    const btn = document.querySelector('.language-btn');
    if (btn) {
        btn.innerHTML = `${flags[lang]} <span class="dropdown-arrow">â–¼</span>`;
    }
    
    // Mettre Ã  jour les options actives
    document.querySelectorAll('.language-option').forEach(option => {
        option.classList.remove('active');
        if (option.getAttribute('data-lang') === lang) {
            option.classList.add('active');
        }
    });
}

// Initialisation au chargement de la page
document.addEventListener('DOMContentLoaded', () => {
    // RÃ©cupÃ©rer la langue sauvegardÃ©e ou utiliser franÃ§ais par dÃ©faut
    const savedLang = localStorage.getItem('legal-language') || 'fr';
    changeLegalLanguage(savedLang);
    
    // Ajouter les Ã©couteurs d'Ã©vÃ©nements pour les options de langue
    document.querySelectorAll('.language-option').forEach(option => {
        option.addEventListener('click', (e) => {
            e.preventDefault();
            const lang = option.getAttribute('data-lang');
            changeLegalLanguage(lang);
            
            // Fermer le dropdown
            document.querySelector('.language-dropdown').classList.remove('active');
        });
    });
    
    // Toggle du dropdown de langue
    const languageBtn = document.querySelector('.language-btn');
    const languageDropdown = document.querySelector('.language-dropdown');
    
    if (languageBtn && languageDropdown) {
        languageBtn.addEventListener('click', (e) => {
            e.stopPropagation();
            languageDropdown.classList.toggle('active');
        });
        
        // Fermer le dropdown en cliquant ailleurs
        document.addEventListener('click', () => {
            languageDropdown.classList.remove('active');
        });
    }
});